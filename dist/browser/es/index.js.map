{"version":3,"file":"index.js","sources":["../../../src/MIMETextError.js","../../../src/MIMEMessageHeader.js","../../../node_modules/underscore/modules/_setup.js","../../../node_modules/underscore/modules/chunk.js","../../../node_modules/runes/index.js","../../../src/MIMEMessageContent.js","../../../src/Mailbox.js","../../../src/MIMEMessage.js","../../../src/entrypoints/browser.js"],"sourcesContent":["export default class MIMETextError extends Error {\n  constructor(message, description) {\n    super(message)\n    this.description = description ? description.trim().replace(/[\\s]{2,}/, ' ') : null\n    this.name = 'MIMETextError'\n  }\n}\n","import MIMETextError from './MIMETextError.js'\n\n/*\n* Headers are based on: https://www.rfc-editor.org/rfc/rfc4021#section-2.1\n* (Some are ignored as they can be added later or as a custom header.)\n*/\n\nexport default class MIMEMessageHeader {\n  constructor(placement) {\n    this.maxLineLength = 998\n    this.placement = placement\n    this.store = [\n      {\n        placement: 'header',\n        name: 'Date',\n        // value property is what user sets for this header\n        value: null,\n        // the generator function generates a value for this header unless\n        // user specified a value or user disabled this property\n        generator: () => (new Date().toGMTString()).replace(/GMT|UTC/gi, '+0000'),\n        disabled: false,\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'header',\n        name: 'From',\n        required: true,\n        dump: (v, ctx) => !v.name ? v.dump() : `=?utf-8?B?${ctx.toBase64(v.name)}?= <${v.addr}>`\n      },\n      {\n        placement: 'header',\n        name: 'Sender',\n        dump: (v, ctx) => !v.name ? v.dump() : `=?utf-8?B?${ctx.toBase64(v.name)}?= <${v.addr}>`\n      },\n      {\n        placement: 'header',\n        name: 'Reply-To',\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'header',\n        name: 'To',\n        // INFO: \"To\" field is not required according to the RFC-2822\n        //required: true,\n        dump: (arr, ctx) => arr.map(v => !v.name ? v.dump() : `=?utf-8?B?${ctx.toBase64(v.name)}?= <${v.addr}>`).join(\",\\n \")\n      },\n      {\n        placement: 'header',\n        name: 'Cc',\n        dump: (arr, ctx) => arr.map(v => !v.name ? v.dump() : `=?utf-8?B?${ctx.toBase64(v.name)}?= <${v.addr}>`).join(\",\\n \")\n      },\n      {\n        placement: 'header',\n        name: 'Bcc',\n        dump: (arr, ctx) => arr.map(v => !v.name ? v.dump() : `=?utf-8?B?${ctx.toBase64(v.name)}?= <${v.addr}>`).join(\",\\n \")\n      },\n      {\n        placement: 'header',\n        name: 'Message-ID',\n        disabled: false,\n        generator: (ctx) => {\n          const datestr = Date.now().toString()\n          const randomstr = Math.random().toString(36).slice(2)\n          const domain = ctx.store.filter(item => item.name == 'From')[0].value.getAddrDomain()\n          return '<' + randomstr + '-' + datestr + '@' + domain + '>'\n        },\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'header',\n        name: 'Subject',\n        required: true,\n        dump: (v, ctx) => '=?utf-8?B?' + ctx.toBase64(v) + '?='\n      },\n      {\n        placement: 'header',\n        name: 'MIME-Version',\n        generator: () => '1.0',\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'content',\n        name: 'Content-ID',\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'content',\n        name: 'Content-Type',\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'content',\n        name: 'Content-Transfer-Encoding',\n        dump: (v) => {\n          return v\n        }\n      },\n      {\n        placement: 'content',\n        name: 'Content-Disposition',\n        dump: (v) => {\n          return v\n        }\n      }\n    ]\n  }\n\n  set(name, value) {\n    this.validateLength(name, value)\n\n    for (const item of this.store) {\n      if (item.name.toLowerCase() == name.toLowerCase()) {\n        item.value = value\n        return item\n      }\n    }\n\n    const newHeader = {\n      custom: true,\n      placement: this.placement,\n      name: name,\n      value: value,\n      dump: (v) => {\n        return v\n      }\n    }\n\n    this.store.push(newHeader)\n\n    return newHeader\n  }\n\n  validateLength(name, value) {\n    const len = name.length + value.length + 2 // 2 is \": \"\n    if (len > this.maxLineLength) {\n      throw new MIMETextError('INVALID_HEADER', `The \"${item.name}\" header is too long. `\n        `${this.maxLineLength} chars allowed at max, \"${item.name}\" was ${len} long.`)\n    }\n  }\n\n  get(name) {\n    for (const item of this.store) {\n      if (item.name.toLowerCase() == name.toLowerCase()) {\n        return item.value\n      }\n    }\n    return undefined\n  }\n\n  toObject() {\n    return this.store.reduce((memo, item) => {\n      memo[item.name] = item.value\n      return memo\n    }, {})\n  }\n\n  dump(envctx) {\n    const ctx = {\n      toBase64: envctx.toBase64,\n      store: this.store\n    }\n\n    let lines = ''\n    for (const item of this.store) {\n      if (item.placement != this.placement) continue;\n\n      const v = item.value\n        ? item.value\n        : !item.disabled && typeof item.generator == 'function'\n          ? item.generator(ctx)\n          : null\n\n      if (!v && item.required) {\n        throw new MIMETextError('MISSING_HEADER', `The \"${item.name}\" header is required.`)\n      }\n\n      if (!v) continue;\n\n      lines += `${item.name}: ${item.dump(v, ctx)}\\r\\n`\n    }\n\n    return lines.slice(0, -2)\n  }\n}\n","// Current version.\nexport var VERSION = '1.13.6';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","'use strict'\n\nconst HIGH_SURROGATE_START = 0xd800\nconst HIGH_SURROGATE_END = 0xdbff\n\nconst LOW_SURROGATE_START = 0xdc00\n\nconst REGIONAL_INDICATOR_START = 0x1f1e6\nconst REGIONAL_INDICATOR_END = 0x1f1ff\n\nconst FITZPATRICK_MODIFIER_START = 0x1f3fb\nconst FITZPATRICK_MODIFIER_END = 0x1f3ff\n\nconst VARIATION_MODIFIER_START = 0xfe00\nconst VARIATION_MODIFIER_END = 0xfe0f\n\nconst DIACRITICAL_MARKS_START = 0x20d0\nconst DIACRITICAL_MARKS_END = 0x20ff\n\nconst ZWJ = 0x200d\n\nconst GRAPHEMS = [\n  0x0308, // ( ◌̈ ) COMBINING DIAERESIS\n  0x0937, // ( ष ) DEVANAGARI LETTER SSA\n  0x0937, // ( ष ) DEVANAGARI LETTER SSA\n  0x093F, // ( ि ) DEVANAGARI VOWEL SIGN I\n  0x093F, // ( ि ) DEVANAGARI VOWEL SIGN I\n  0x0BA8, // ( ந ) TAMIL LETTER NA\n  0x0BBF, // ( ி ) TAMIL VOWEL SIGN I\n  0x0BCD, // ( ◌்) TAMIL SIGN VIRAMA\n  0x0E31, // ( ◌ั ) THAI CHARACTER MAI HAN-AKAT\n  0x0E33, // ( ำ ) THAI CHARACTER SARA AM\n  0x0E40, // ( เ ) THAI CHARACTER SARA E\n  0x0E49, // ( เ ) THAI CHARACTER MAI THO\n  0x1100, // ( ᄀ ) HANGUL CHOSEONG KIYEOK\n  0x1161, // ( ᅡ ) HANGUL JUNGSEONG A\n  0x11A8 // ( ᆨ ) HANGUL JONGSEONG KIYEOK\n]\n\nfunction runes (string) {\n  if (typeof string !== 'string') {\n    throw new Error('string cannot be undefined or null')\n  }\n  const result = []\n  let i = 0\n  let increment = 0\n  while (i < string.length) {\n    increment += nextUnits(i + increment, string)\n    if (isGraphem(string[i + increment])) {\n      increment++\n    }\n    if (isVariationSelector(string[i + increment])) {\n      increment++\n    }\n    if (isDiacriticalMark(string[i + increment])) {\n      increment++\n    }\n    if (isZeroWidthJoiner(string[i + increment])) {\n      increment++\n      continue\n    }\n    result.push(string.substring(i, i + increment))\n    i += increment\n    increment = 0\n  }\n  return result\n}\n\n// Decide how many code units make up the current character.\n// BMP characters: 1 code unit\n// Non-BMP characters (represented by surrogate pairs): 2 code units\n// Emoji with skin-tone modifiers: 4 code units (2 code points)\n// Country flags: 4 code units (2 code points)\n// Variations: 2 code units\nfunction nextUnits (i, string) {\n  const current = string[i]\n  // If we don't have a value that is part of a surrogate pair, or we're at\n  // the end, only take the value at i\n  if (!isFirstOfSurrogatePair(current) || i === string.length - 1) {\n    return 1\n  }\n\n  const currentPair = current + string[i + 1]\n  let nextPair = string.substring(i + 2, i + 5)\n\n  // Country flags are comprised of two regional indicator symbols,\n  // each represented by a surrogate pair.\n  // See http://emojipedia.org/flags/\n  // If both pairs are regional indicator symbols, take 4\n  if (isRegionalIndicator(currentPair) && isRegionalIndicator(nextPair)) {\n    return 4\n  }\n\n  // If the next pair make a Fitzpatrick skin tone\n  // modifier, take 4\n  // See http://emojipedia.org/modifiers/\n  // Technically, only some code points are meant to be\n  // combined with the skin tone modifiers. This function\n  // does not check the current pair to see if it is\n  // one of them.\n  if (isFitzpatrickModifier(nextPair)) {\n    return 4\n  }\n  return 2\n}\n\nfunction isFirstOfSurrogatePair (string) {\n  return string && betweenInclusive(string[0].charCodeAt(0), HIGH_SURROGATE_START, HIGH_SURROGATE_END)\n}\n\nfunction isRegionalIndicator (string) {\n  return betweenInclusive(codePointFromSurrogatePair(string), REGIONAL_INDICATOR_START, REGIONAL_INDICATOR_END)\n}\n\nfunction isFitzpatrickModifier (string) {\n  return betweenInclusive(codePointFromSurrogatePair(string), FITZPATRICK_MODIFIER_START, FITZPATRICK_MODIFIER_END)\n}\n\nfunction isVariationSelector (string) {\n  return typeof string === 'string' && betweenInclusive(string.charCodeAt(0), VARIATION_MODIFIER_START, VARIATION_MODIFIER_END)\n}\n\nfunction isDiacriticalMark (string) {\n  return typeof string === 'string' && betweenInclusive(string.charCodeAt(0), DIACRITICAL_MARKS_START, DIACRITICAL_MARKS_END)\n}\n\nfunction isGraphem (string) {\n  return typeof string === 'string' && GRAPHEMS.indexOf(string.charCodeAt(0)) !== -1\n}\n\nfunction isZeroWidthJoiner (string) {\n  return typeof string === 'string' && string.charCodeAt(0) === ZWJ\n}\n\nfunction codePointFromSurrogatePair (pair) {\n  const highOffset = pair.charCodeAt(0) - HIGH_SURROGATE_START\n  const lowOffset = pair.charCodeAt(1) - LOW_SURROGATE_START\n  return (highOffset << 10) + lowOffset + 0x10000\n}\n\nfunction betweenInclusive (value, lower, upper) {\n  return value >= lower && value <= upper\n}\n\nfunction substring (string, start, width) {\n  const chars = runes(string)\n  if (start === undefined) {\n    return string\n  }\n  if (start >= chars.length) {\n    return ''\n  }\n  const rest = chars.length - start\n  const stringWidth = width === undefined ? rest : width\n  let endIndex = start + stringWidth\n  if (endIndex > (start + rest)) {\n    endIndex = undefined\n  }\n  return chars.slice(start, endIndex).join('')\n}\n\nmodule.exports = runes\nmodule.exports.substr = substring\n","import MIMEMessageHeader from './MIMEMessageHeader.js'\nimport chunk from \"underscore/modules/chunk.js\";\nimport runes from \"runes\";\n\nexport default class MIMEMessageContent {\n  constructor(data) {\n    this.maxLineLen = 78\n    this.data = data\n    this.headers = new MIMEMessageHeader('content')\n  }\n\n  setHeader() {\n    this.headers.set(arguments[0], arguments[1])\n    return this\n  }\n\n  setHeaders(obj) {\n    Object.keys(obj).map(prop => this.setHeader(prop, obj[prop]))\n    return this\n  }\n\n  getHeaders() {\n    return this.headers.toObject()\n  }\n\n  getHeader(name) {\n    return this.headers.get(name)\n  }\n\n  isAttachment() {\n    const d = this.headers.get('Content-Disposition')\n    return d && d.indexOf('attachment') !== -1 ? true : false;\n  }\n\n  configureLineLength(text) {\n    return text.split(/[\\r\\n]+/).map(line => !line ? '' : chunk(runes(line), this.maxLineLen).map(arr => arr.join('')).join(\"\\r\\n\")).join(\"\\r\\n\")\n  }\n\n  dump(envctx, boundaries) {\n    const headerBlock = this.headers.dump(envctx)\n\n    if (this.isAttachment()) {\n      return `--${boundaries.mixed}\n${headerBlock}\n\n${this.configureLineLength(this.data)}\n`\n    }\n    else {\n      return `${headerBlock}\\r\\n\\r\\n${this.configureLineLength(this.data)}`\n    }\n  }\n}\n","import MIMETextError from './MIMETextError.js'\n\nexport default class Mailbox {\n  constructor(input, opts={type: 'to'}) {\n    this.reSpecCompliantAddr = /(([^<>\\n\\r]+)\\s)?<[^\\n\\r]+>/\n\n    this.name = null\n    this.addr = null\n    this.type = opts.type || 'to'\n    this.input = input\n    this.inputType = this.findInputType(input)\n\n    this.createMailbox()\n  }\n\n  findInputType(input) {\n    if (Object.prototype.toString.call(input) === '[object Object]') {\n      if (!input.addr) {\n        throw new MIMETextError('INVALID_MAILBOX', `\n          The input should have an \"addr\" property that specifies the email address \\\n          of the recipient.\n        `)\n      }\n      return 'OBJECT'\n    }\n    else if (this.reSpecCompliantAddr.test(input)) {\n      return 'SPEC_COMPLIANT_TEXT'\n    }\n    else if (typeof input == 'string') {\n      return 'TEXT'\n    }\n    else {\n      throw new MIMETextError('INVALID_MAILBOX')\n    }\n  }\n\n  parseSpecCompliantText(text) {\n    text = text.trim()\n\n    if (text.slice(0, 1) == '<' && text.slice(-1) == '>') {\n      return {addr: text.slice(1, -1)}\n    }\n\n    const arr = text.split(' <')\n    arr[0] = /^(\"|')/.test(arr[0]) ? arr[0].slice(1) : arr[0]\n    arr[0] = /(\"|')$/.test(arr[0]) ? arr[0].slice(0, -1) : arr[0]\n    arr[1] = arr[1].slice(0, -1)\n\n    return {name: arr[0], addr: arr[1]}\n  }\n\n  createMailbox() {\n    switch (this.inputType) {\n      case 'OBJECT':\n        this.addr = this.input.addr\n        this.name = this.input.name || null\n        this.type = this.input.type || this.type\n        break;\n\n      case 'SPEC_COMPLIANT_TEXT':\n        const obj = this.parseSpecCompliantText(this.input)\n        this.addr = obj.addr\n        this.name = obj.name || null\n        break;\n\n      case 'TEXT':\n        this.addr = this.input\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  getAddrDomain() {\n    if (!this.addr) {\n      return ''\n    }\n\n    return this.addr.split('@')[1]\n  }\n\n  dump() {\n    let result = `<${this.addr}>`\n\n    if (this.name) {\n      result = `\"${this.name}\" ${result}`\n    }\n\n    return result\n  }\n\n  toObject() {\n    return {\n      name: this.name,\n      addr: this.addr,\n      type: this.type\n    }\n  }\n}\n","import MIMEMessageHeader from './MIMEMessageHeader.js'\nimport MIMEMessageContent from './MIMEMessageContent.js'\nimport MIMETextError from './MIMETextError.js'\nimport Mailbox from './Mailbox.js'\n\nexport default class MIMEMessage {\n  constructor(envctx) {\n    this.envctx = envctx\n    this.headers = new MIMEMessageHeader('header')\n    this.messages = []\n\n    this.generateBoundaries()\n  }\n\n  generateBoundaries() {\n    this.boundaries = {\n      mixed: Math.random().toString(36).slice(2),\n      alt: Math.random().toString(36).slice(2)\n    }\n  }\n\n  setSender(input) {\n    const mailbox = new Mailbox(input, {type: 'from'})\n\n    this.setHeader('From', mailbox)\n\n    return mailbox\n  }\n\n  getSender() {\n    return this.getHeader('From')\n  }\n\n  setRecipients(input, opts={type: 'to'}) {\n    const recs = []\n\n    if (Array.isArray(input)) {\n      input.map(input => recs.push( new Mailbox(input, opts) ))\n    }\n    else {\n      recs.push( new Mailbox(input, opts) )\n    }\n\n    this.setHeader(opts.type, recs)\n\n    return recs\n  }\n\n  getRecipients(opts={type: 'to'}) {\n    return this.getHeader(opts.type) || []\n  }\n\n  setRecipient(input) {\n    return this.setRecipients(input, {type: 'to'})\n  }\n\n  setTo(input) {\n    return this.setRecipients(input, {type: 'to'})\n  }\n\n  setCc(input) {\n    return this.setRecipients(input, {type: 'cc'})\n  }\n\n  setBcc(input) {\n    return this.setRecipients(input, {type: 'bcc'})\n  }\n\n  setSubject(value) {\n    this.setHeader('subject', value)\n    return value\n  }\n\n  getSubject() {\n    return this.getHeader('subject')\n  }\n\n  setHeader() {\n    this.headers.set(arguments[0], arguments[1])\n    return arguments[0]\n  }\n\n  getHeader(name) {\n    return this.headers.get(name)\n  }\n\n  setHeaders(obj) {\n    Object.keys(obj).map(prop => this.setHeader(prop, obj[prop]))\n    return this\n  }\n\n  getHeaders() {\n    return this.headers.toObject()\n  }\n\n  setMessage(type, data, moreHeaders={}) {\n    const validTypes = ['text/html', 'text/plain']\n\n    if (validTypes.indexOf(type) === -1) {\n      throw new MIMETextError('INVALID_MESSAGE_TYPE', `\n        Invalid content type for the message. Supported content types \\\n        are ${validTypes.join(', ')} but you specified \"${type}\".\n      `)\n    }\n\n    const headers = Object.assign({}, moreHeaders, {\n      'Content-Type': `${type}; charset=UTF-8`\n    })\n    const msg = new MIMEMessageContent(data)\n\n    msg.setHeaders(headers)\n\n    this.messages.push(msg)\n\n    return msg\n  }\n\n  setAttachment(filename, type, data, moreHeaders={}) {\n    const headers = Object.assign({}, moreHeaders, {\n      'Content-Type': `${type}; charset=UTF-8`,\n      'Content-Transfer-Encoding': 'base64',\n      'Content-Disposition': `attachment;filename=\"${filename}\"`\n    })\n    const msg = new MIMEMessageContent(data)\n\n    msg.setHeaders(headers)\n\n    this.messages.push(msg)\n\n    return this\n  }\n\n  getMessageByType(type) {\n    const matches = this.messages.filter(m => m.getHeader('Content-Type').indexOf(type) !== -1)\n    if (Array.isArray(matches) && matches.length > 0) {\n      return matches[0]\n    }\n    else {\n      return undefined\n    }\n  }\n\n  getAttachments() {\n    return this.messages.filter(m => m.isAttachment() === true) || []\n  }\n\n  asRaw() {\n    let lines = this.headers.dump(this.envctx)\n\n    const plainTextMessage = this.getMessageByType('text/plain')\n    const htmlMessage = this.getMessageByType('text/html')\n    const hasAttachments = this.getAttachments().length > 0\n    const hasPlainTextAlt = plainTextMessage instanceof MIMEMessageContent && htmlMessage instanceof MIMEMessageContent\n\n    if (hasAttachments && hasPlainTextAlt) return this.asRawMixedAlt(lines)\n    else if (hasAttachments) return this.asRawMixed(lines)\n    else if (hasPlainTextAlt) return this.asRawAlt(lines)\n    else return this.asRawMessage(lines)\n  }\n\n  asEncoded() {\n    return this.envctx.toBase64WebSafe( this.asRaw() )\n  }\n\n  asRawMessage(lines) {\n    const plainTextMessage = this.getMessageByType('text/plain')\n    const htmlMessage = this.getMessageByType('text/html')\n    const message = htmlMessage || plainTextMessage\n\n    lines = `${lines}\n${message.dump(this.envctx, this.boundaries)}`\n\n    return lines\n  }\n\n  asRawAlt(lines) {\n    const plainTextMessage = this.getMessageByType('text/plain')\n    const htmlMessage = this.getMessageByType('text/html')\n\n    lines = `${lines}\nContent-Type: multipart/alternative; boundary=${this.boundaries.alt}\n\n--${this.boundaries.alt}\n${plainTextMessage.dump(this.envctx, this.boundaries)}\n\n--${this.boundaries.alt}\n${htmlMessage.dump(this.envctx, this.boundaries)}\n\n--${this.boundaries.alt}--`\n\n    return lines\n  }\n\n  asRawMixed(lines) {\n    const plainTextMessage = this.getMessageByType('text/plain')\n    const htmlMessage = this.getMessageByType('text/html')\n    const message = htmlMessage || plainTextMessage\n    const attachments = this.getAttachments()\n      .map(a => a.dump(this.envctx, this.boundaries))\n      .join('')\n      .replace(/[\\r\\n]$/g, '')\n\n    lines = `${lines}\nContent-Type: multipart/mixed; boundary=${this.boundaries.mixed}\n\n--${this.boundaries.mixed}\n${message.dump(this.envctx, this.boundaries)}\n\n${attachments}\n\n--${this.boundaries.mixed}--`\n\n    return lines\n  }\n\n  asRawMixedAlt(lines) {\n    const plainTextMessage = this.getMessageByType('text/plain')\n    const htmlMessage = this.getMessageByType('text/html')\n    const attachments = this.getAttachments()\n      .map(a => a.dump(this.envctx, this.boundaries))\n      .join('')\n      .replace(/[\\r\\n]$/g, '')\n\n    lines = `${lines}\nContent-Type: multipart/mixed; boundary=${this.boundaries.mixed}\n\n--${this.boundaries.mixed}\nContent-Type: multipart/alternative; boundary=${this.boundaries.alt}\n\n--${this.boundaries.alt}\n${plainTextMessage.dump(this.envctx, this.boundaries)}\n\n--${this.boundaries.alt}\n${htmlMessage.dump(this.envctx, this.boundaries)}\n\n--${this.boundaries.alt}--\n${attachments}\n\n--${this.boundaries.mixed}--`\n\n    return lines\n  }\n\n  toBase64(v) {\n    return this.envctx.toBase64(v)\n  }\n}\n","import MIMEMessage from '../MIMEMessage.js'\n\nconst envctx = {\n  toBase64: function toBase64(data) {\n    return btoa(data)\n  },\n  toBase64WebSafe: function toBase64WebSafe(data) {\n    return btoa(data)\n      .replace(/\\+/g, '-')\n      .replace(/\\//g, '_')\n      .replace(/=+$/, '')\n  }\n}\n\nclass NodeMIMEMessage extends MIMEMessage {\n  constructor() {\n    super(envctx)\n  }\n}\n\nexport function createMimeMessage() {\n  return new NodeMIMEMessage()\n}\n"],"names":["MIMETextError","_createSuper","message","description","replace","name","Error","MIMEMessageHeader","placement","maxLineLength","store","value","generator","Date","toGMTString","disabled","dump","v","required","ctx","toBase64","addr","arr","join","datestr","now","toString","randomstr","Math","random","domain","item","getAddrDomain","validateLength","toLowerCase","newHeader","custom","push","len","length","undefined","memo","envctx","lines","runesModule","runes_1","MIMEMessageContent","data","maxLineLen","headers","set","arguments","obj","prop","setHeader","toObject","get","d","text","split","line","chunk","runes","boundaries","headerBlock","isAttachment","mixed","configureLineLength","Mailbox","input","opts","type","reSpecCompliantAddr","inputType","findInputType","createMailbox","Object","prototype","call","test","parseSpecCompliantText","result","MIMEMessage","messages","generateBoundaries","alt","mailbox","getHeader","recs","Array","isArray","setRecipients","moreHeaders","validTypes","msg","setHeaders","filename","matches","m","plainTextMessage","getMessageByType","htmlMessage","hasAttachments","getAttachments","hasPlainTextAlt","asRawMixedAlt","asRawMixed","asRawAlt","asRawMessage","toBase64WebSafe","asRaw","attachments","a","btoa","NodeMIMEMessage","createMimeMessage"],"mappings":"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"}